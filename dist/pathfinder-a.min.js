!function(n){if("object"==typeof module&&"object"==typeof module.exports){var i=n(require,exports);void 0!==i&&(module.exports=i)}else"function"==typeof define&&define.amd&&define(["require","exports"],n)}(function(n,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var t=function(){function n(n){this.arr=n}return n.prototype.find=function(n,i){function t(n,i){return!!e(n,i.id)}function e(n,i){var t=n.filter(function(n){return n.id==i});return t.length?t[0]:null}var r=e(this.arr,n),o=e(this.arr,i);return function(n,i,r){function o(n,i){var t=!1;n.forEach(function(n){n.id==i.id&&(t=!0)}),t||n.push(i)}function u(n,i){return 1.5*d(n,i)}function d(n,i){return Math.sqrt(Math.pow(i.x-n.x,2)+Math.pow(i.y-n.y,2)+Math.pow(i.z-n.z,2))}function f(n,i){var t,e=i.x-n.x,r=i.y-n.y;return t=Math.atan(r/e),t*(180/Math.PI)}var c,a,s,h=[],l=[i],p={},v={},y={};for(n.forEach(function(n){v[n.id]=1/0,y[n.id]=1/0}),v[i.id]=0,y[i.id]=u(i,r);l.length;){if(s=function(){return l.length?1==l.length?l[0]:l.reduce(function(n,i){return y[n.id]<y[i.id]?n:i}):null}(),s.id==r.id)return function(n,i){for(var t,e=[i],r=v[i.id];i&&n[i.id];)t=n[i.id],t.magnitude=d(i,t),t.direction=f(t,i),void 0!=i.direction&&(i.deviation=i.direction-t.direction),i=t,e.unshift(i);return{steps:e,distance:r}}(p,s);!function(n,i){var t;for(t=0;t<n.length;t++)n[t].id==i.id&&n.splice(t,1)}(l,s),o(h,s);for(var x=0;x<s.connections.length;x++)if(a=e(n,s.connections[x]),!t(h,a)){if(c=v[s.id]+d(s,a),t(l,a)){if(c>=v[a.id])continue}else o(l,a);p[a.id]=s,v[a.id]=c,y[a.id]=v[a.id]+u(a,r)}}return null}(this.arr,r,o)},n}();i.Path=t});