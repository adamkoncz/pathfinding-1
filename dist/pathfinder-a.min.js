!function(n){if("object"==typeof module&&"object"==typeof module.exports){var t=n(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports"],n)}(function(n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function n(n){this.arr=n}return n.prototype.find=function(n,t){function i(n,t){return!!this.get_by_id(n,t.id)}function e(n,t){var i=n.filter(function(n){return n.id==t});return i.length?i[0]:null}var r=e(this.arr,n),o=e(this.arr,t);return function(n,t,r){function o(n,t){var i=!1;n.forEach(function(n){n.id==t.id&&(i=!0)}),i||n.push(t)}function u(n,t){return 1.5*f(n,t)}function f(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}var d,c,s,a=[],l=[t],h={},p={},v={};for(n.forEach(function(n){p[n.id]=1/0,v[n.id]=1/0}),p[t.id]=0,v[t.id]=u(t,r);l.length;){if(s=function(){return l.length?1==l.length?l[0]:l.reduce(function(n,t){return v[n.id]<v[t.id]?n:t}):null}(),s.id==r.id)return function(n,t){for(var i=[t],e=p[t.id];t&&n[t.id];)t=n[t.id],i.unshift(t);return{steps:i,distance:e}}(h,s);!function(n,t){var i;for(i=0;i<n.length;i++)n[i].id==t.id&&n.splice(i,1)}(l,s),o(a,s);for(var y=0;y<s.connections.length;y++)if(c=e(n,s.connections[y]),!i(a,c)){if(d=p[s.id]+f(s,c),i(l,c)){if(d>=p[c.id])continue}else o(l,c);h[c.id]=s,p[c.id]=d,v[c.id]=p[c.id]+u(c,r)}}return null}(this.arr,r,o)},n}();t.Path=i});